import{j as e}from"./index-D5UbER3f.js";import{u as n}from"./index-CZxYc6i7.js";const a={description:"Frequently asked questions and troubleshooting guide for common Foundry installation and usage issues."};function i(r){const s={a:"a",blockquote:"blockquote",code:"code",div:"div",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",...n(),...r.components};return e.jsxs(e.Fragment,{children:[e.jsxs(s.h2,{id:"faq",children:["FAQ",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#faq",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["This is a collection of common questions and answers. If you do not find your question listed here, hop in the ",e.jsx(s.a,{href:"https://t.me/foundry_support",children:"Telegram support channel"}),`
and let us help you!`]}),`
`,e.jsxs(s.h3,{id:"i-cant-build-from-source",children:["I can't build from source!",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#i-cant-build-from-source",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Make sure you're on the latest stable Rust toolchain:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"rustup"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" default"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" stable"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"rustup"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" update"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" stable"})]})]})})}),`
`,e.jsxs(s.h3,{id:"libusb-error-when-running-forgecast",children:[e.jsx(s.code,{children:"libusb"})," error when running ",e.jsx(s.code,{children:"forge"}),"/",e.jsx(s.code,{children:"cast"}),e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#libusb-error-when-running-forgecast",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"If you are using the binaries as released, you may see the following error on MacOS:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"dyld:"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" Library"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" not"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" loaded:"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" /usr/local/opt/libusb/lib/libusb-1.0.0.dylib"})]})})})}),`
`,e.jsxs(s.p,{children:["In order to fix this, you must install the ",e.jsx(s.code,{children:"libusb"})," library:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"brew"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" install"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" libusb"})]})})})}),`
`,e.jsxs(s.h3,{id:"out-of-date-glibc",children:["Out of date ",e.jsx(s.code,{children:"GLIBC"}),e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#out-of-date-glibc",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["If you run into an error resembling the following after using ",e.jsx(s.code,{children:"foundryup"}),":"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"forge:"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" /lib/x86_64-linux-gnu/libc.so.6:"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" version"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" 'GLIBC_2.29'"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" not"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" found"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" (required "}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:"by"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:" forge"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]})})})}),`
`,e.jsx(s.p,{children:"There are 2 workarounds:"}),`
`,e.jsxs(s.ol,{children:[`
`,e.jsx(s.li,{children:e.jsx(s.a,{href:"/introduction/installation#building-from-source",children:"Building from source"})}),`
`,e.jsx(s.li,{children:e.jsx(s.a,{href:"/introduction/installation#using-foundry-with-docker",children:"Using Docker"})}),`
`]}),`
`,e.jsxs(s.h3,{id:"help-i-cant-see-my-logs",children:["Help! I can't see my logs!",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#help-i-cant-see-my-logs",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["Forge does not display logs by default. If you want to see logs from Hardhat's ",e.jsx(s.code,{children:"console.log"})," or from DSTest-style ",e.jsx(s.code,{children:"log_*"}),` events,
you need to run `,e.jsx(s.a,{href:"./forge/reference/forge-test.md",children:e.jsx(s.code,{children:"forge test"})})," with verbosity 2 (",e.jsx(s.code,{children:"-vv"}),")."]}),`
`,e.jsxs(s.p,{children:[`If you want to see other events your contracts emit, you need to run with traces enabled.
To do that, set the verbosity to 3 (`,e.jsx(s.code,{children:"-vvv"}),") to see traces for failing tests, or 4 (",e.jsx(s.code,{children:"-vvvv"}),") to see traces for all tests."]}),`
`,e.jsxs(s.h3,{id:"my-tests-are-failing-and-i-dont-know-why",children:["My tests are failing and I don't know why!",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#my-tests-are-failing-and-i-dont-know-why",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:[`To gain better insight into why your tests are failing, try using traces. To enable traces, you need to increase the verbosity
on `,e.jsx(s.a,{href:"./forge/reference/forge-test.md",children:"forge test"})," to at least 3 (",e.jsx(s.code,{children:"-vvv"}),") but you can go as high as 5 (",e.jsx(s.code,{children:"-vvvvv"}),") for even more traces."]}),`
`,e.jsxs(s.p,{children:["You can learn more about traces in our ",e.jsx(s.a,{href:"./forge/traces.md",children:"Understanding Traces"})," chapter."]}),`
`,e.jsxs(s.h3,{id:"how-do-i-use-consolelog",children:["How do I use ",e.jsx(s.code,{children:"console.log"}),"?",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#how-do-i-use-consolelog",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To use Hardhat's ",e.jsx(s.code,{children:"console.log"})," you must add it to your project by copying the file over from ",e.jsx(s.a,{href:"./reference/forge-std/console-log.md",children:"here"}),"."]}),`
`,e.jsxs(s.p,{children:["Alternatively, you can use ",e.jsx(s.a,{href:"https://github.com/foundry-rs/forge-std",children:"Forge Std"})," which comes bundled with ",e.jsx(s.code,{children:"console.log"}),". To use ",e.jsx(s.code,{children:"console.log"}),` from Forge Std,
you have to import it:`]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"import"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:"console"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"} "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"from"}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:' "forge-std/console.sol"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:";"})]})})})}),`
`,e.jsxs(s.h3,{id:"how-do-i-run-specific-tests",children:["How do I run specific tests?",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#how-do-i-run-specific-tests",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["If you want to run only a few tests, you can use ",e.jsx(s.code,{children:"--match-test"}),` to filter test functions,
`,e.jsx(s.code,{children:"--match-contract"})," to filter test contracts, and ",e.jsx(s.code,{children:"--match-path"})," to filter test files on ",e.jsx(s.a,{href:"./forge/reference/forge-test.md",children:e.jsx(s.code,{children:"forge test"})}),"."]}),`
`,e.jsxs(s.h3,{id:"how-do-i-use-a-specific-solidity-compiler",children:["How do I use a specific Solidity compiler?",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#how-do-i-use-a-specific-solidity-compiler",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"Forge will try to auto-detect what Solidity compiler works for your project."}),`
`,e.jsxs(s.p,{children:["To use a specific Solidity compiler, you can set ",e.jsx(s.a,{href:"./config/reference/solidity-compiler.md#solc_version",children:e.jsx(s.code,{children:"solc"})})," in your ",e.jsx(s.a,{href:"./config/",children:"config file"}),`,
or pass `,e.jsx(s.code,{children:"--use solc:<version>"})," to a Forge command that supports it (e.g. ",e.jsx(s.a,{href:"./forge/reference/forge-build.md",children:e.jsx(s.code,{children:"forge build"})}),`
or `,e.jsx(s.a,{href:"./forge/reference/forge-test.md",children:e.jsx(s.code,{children:"forge test"})}),`).
Paths to a solc binary are also accepted. To use a specific local solc binary, you can set `,e.jsx(s.code,{children:'solc = "<path to solc>"'})," in your config file, or pass ",e.jsx(s.code,{children:'--use "<path to solc>"'}),`.
The solc version/path can also be set via the env variable `,e.jsx(s.code,{children:"FOUNDRY_SOLC=<version/path>"}),", but the cli arg ",e.jsx(s.code,{children:"--use"})," has priority."]}),`
`,e.jsxs(s.p,{children:["For example, if you have a project that supports all 0.7.x Solidity versions, but you want to compile with solc 0.7.0, you could use ",e.jsx(s.code,{children:"forge build --use solc:0.7.0"}),"."]}),`
`,e.jsxs(s.h3,{id:"how-do-i-fork-from-a-live-network",children:["How do I fork from a live network?",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#how-do-i-fork-from-a-live-network",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["To fork from a live network, pass ",e.jsx(s.code,{children:"--fork-url <URL>"})," to ",e.jsx(s.a,{href:"./forge/reference/forge-test.md",children:e.jsx(s.code,{children:"forge test"})}),`.
You can also fork from a specific block using `,e.jsx(s.code,{children:"--fork-block-number <BLOCK>"}),`, which adds determinism to your test, and allows Forge to cache
the chain data for that block.`]}),`
`,e.jsxs(s.p,{children:["For example, to fork from Ethereum mainnet at block 10,000,000 you could use: ",e.jsx(s.code,{children:"forge test --fork-url $MAINNET_RPC_URL --fork-block-number 10000000"}),"."]}),`
`,e.jsxs(s.h3,{id:"how-do-i-add-my-own-assertions",children:["How do I add my own assertions?",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#how-do-i-add-my-own-assertions",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"You can add your own assertions by creating your own base test contract and having that inherit from the test framework of your choice."}),`
`,e.jsx(s.p,{children:"For example, if you use DSTest, you could create a base test contract like this:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"contract"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" TestBase"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" is"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" DSTest"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" myCustomAssertion"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"uint"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" a"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"uint"}),e.jsx(s.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" b"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"      if"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" (a "}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"!="}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" b) {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"          emit"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" log_string"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"a and b did not match"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:");"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:"          fail"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"();"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"      }"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,e.jsxs(s.p,{children:["You would then inherit from ",e.jsx(s.code,{children:"TestBase"})," in your test contracts."]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"contract"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" MyContractTest"}),e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" is"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" TestBase"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"    function"}),e.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" testSomething"}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"() {"})]}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"        // ..."})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"    }"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})})}),`
`,e.jsxs(s.p,{children:["Similarly, if you use ",e.jsx(s.a,{href:"https://github.com/foundry-rs/forge-std",children:"Forge Std"}),", you can create a base test contract that inherits from ",e.jsx(s.code,{children:"Test"}),"."]}),`
`,e.jsxs(s.p,{children:["For a good example of a base test contract that has helper methods and custom assertions, see ",e.jsxs(s.a,{href:"https://github.com/transmissions11/solmate/blob/19a4f345970ed39ee6369f343d145e0d4071c18a/src/test/utils/DSTestPlus.sol#L10",children:["Solmate's ",e.jsx(s.code,{children:"DSTestPlus"})]}),"."]}),`
`,e.jsxs(s.h3,{id:"how-do-i-use-forge-offline",children:["How do I use Forge offline?",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#how-do-i-use-forge-offline",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["Forge will sometimes check for newer Solidity versions that fit your project. To use Forge offline, use the ",e.jsx(s.code,{children:"--offline"})," flag."]}),`
`,e.jsxs(s.h3,{id:"im-getting-solc-errors",children:["I'm getting Solc errors",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#im-getting-solc-errors",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:[e.jsx(s.a,{href:"https://binaries.soliditylang.org/",children:"solc-bin"})," doesn't offer static builds for Apple silicon. Foundry relies on ",e.jsx(s.a,{href:"https://github.com/alloy-rs/svm-rs",children:"svm"})," to install native builds for Apple silicon."]}),`
`,e.jsxs(s.p,{children:["All solc versions are installed under ",e.jsx(s.code,{children:"~/.svm/"})," if the directory already exists. If not, it uses ",e.jsx(s.code,{children:"$XDG_DATA_HOME/svm/"}),", commonly mapped to ",e.jsx(s.code,{children:"$HOME/.local/share/svm/"})," on Linux or ",e.jsx(s.code,{children:"$HOME/Library/Application Support/svm/"})," on MacOS. If you encounter solc related errors, such as ",e.jsx(s.code,{children:"SolcError: ..."})," please remove the ",e.jsx(s.code,{children:"~/.svm/"})," directory and try again, this will trigger a fresh install and usually resolves the issue."]}),`
`,e.jsxs(s.p,{children:["If you're on Apple silicon, please ensure the ",e.jsxs(s.a,{href:"https://github.com/Z3Prover/z3",children:[e.jsx(s.code,{children:"z3"})," theorem prover"]})," is installed: ",e.jsx(s.code,{children:"brew install z3"})]}),`
`,e.jsxs(s.blockquote,{children:[`
`,e.jsxs(s.p,{children:[e.jsx(s.strong,{children:"Note"}),": native Apple silicon builds are only available from ",e.jsx(s.code,{children:"0.8.5"})," upwards. If you need older versions, you must enable Apple silicon rosetta to run them."]}),`
`]}),`
`,e.jsxs(s.h3,{id:"forge-fails-in-javascript-monorepos-pnpm",children:["Forge fails in JavaScript monorepos (",e.jsx(s.code,{children:"pnpm"}),")",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#forge-fails-in-javascript-monorepos-pnpm",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["Managers like ",e.jsx(s.code,{children:"pnpm"})," use symlinks to manage ",e.jsx(s.code,{children:"node_modules"})," folders."]}),`
`,e.jsx(s.p,{children:"A common layout may look like:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"├── contracts"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"│    ├── contracts"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"│    ├── foundry.toml"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"│    ├── lib"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"│    ├── node_modules"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"│    ├── package.json"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"├── node_modules"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"│    ├── ..."})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"├── package.json"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"├── pnpm-lock.yaml"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"├── pnpm-workspace.yaml"})})]})})}),`
`,e.jsxs(s.p,{children:["Where the Foundry workspace is in ",e.jsx(s.code,{children:"./contracts"}),", but packages in ",e.jsx(s.code,{children:"./contracts/node_modules"})," are symlinked to ",e.jsx(s.code,{children:"./node_modules"}),"."]}),`
`,e.jsxs(s.p,{children:["When running ",e.jsx(s.code,{children:"forge build"})," in ",e.jsx(s.code,{children:"./contracts/node_modules"}),", this can lead to an error like:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:'error[6275]: ParserError: Source "node_modules/@openzeppelin/contracts/utils/cryptography/draft-EIP712.sol" not found: File outside of allowed directories. The following are allowed: "<repo>/contracts", "<repo>/contracts/contracts", "<repo>/contracts/lib".'})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:" --> node_modules/@openzeppelin/contracts/token/ERC20/extensions/draft-ERC20Permit.sol:8:1:"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"  |"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:'8 | import "../../../utils/cryptography/draft-EIP712.sol";'})})]})})}),`
`,e.jsxs(s.p,{children:["This error happens when ",e.jsx(s.code,{children:"solc"})," was able to resolve symlinked files, but they're outside the Foundry workspace (",e.jsx(s.code,{children:"./contracts"}),")."]}),`
`,e.jsxs(s.p,{children:["Adding ",e.jsx(s.code,{children:"node_modules"})," to ",e.jsx(s.code,{children:"allow_paths"})," in ",e.jsx(s.code,{children:"foundry.toml"})," grants solc access to that directory, and it will be able to read it:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#6A737D","--shiki-dark":"#768390"},children:"# This translates to `solc --allow-paths ../node_modules`"})}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"allow_paths = ["}),e.jsx(s.span,{style:{color:"#032F62","--shiki-dark":"#96D0FF"},children:'"../node_modules"'}),e.jsx(s.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"]"})]})]})})}),`
`,e.jsxs(s.p,{children:["Note that the path is relative to the Foundry workspace. See also ",e.jsx(s.a,{href:"https://docs.soliditylang.org/en/latest/path-resolution.html#allowed-paths",children:"solc allowed-paths"})]}),`
`,e.jsxs(s.h3,{id:"im-getting-permission-denied-os-error-13",children:["I'm getting ",e.jsx(s.code,{children:"Permission denied (os error 13)"}),e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#im-getting-permission-denied-os-error-13",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(s.p,{children:"If you see an error like"}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(s.code,{children:e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:'Failed to create artifact parent folder "/.../MyProject/out/IsolationModeMagic.sol": Permission denied (os error 13)'})})})})}),`
`,e.jsxs(s.p,{children:["Then there's likely a folder permission issue. Ensure ",e.jsx(s.code,{children:"user"})," has write access in the project root's folder."]}),`
`,e.jsxs(s.p,{children:["It has been ",e.jsx(s.a,{href:"https://github.com/foundry-rs/foundry/issues/3268",children:"reported"})," that on linux, canonicalizing paths can result in weird paths (",e.jsx(s.code,{children:"/_1/..."}),"). This can be resolved by nuking the entire project folder and initializing again."]}),`
`,e.jsxs(s.h3,{id:"connection-refused-when-running-forge-build",children:["Connection refused when running ",e.jsx(s.code,{children:"forge build"}),e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#connection-refused-when-running-forge-build",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["If you're unable to access github URLs called by ",e.jsx(s.code,{children:"forge build"}),", you will see an error like"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"Error:"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"error sending request for url (https://raw.githubusercontent.com/roynalnaruto/solc-builds/ff4ea8a7bbde4488428de69f2c40a7fc56184f5e/macosx/aarch64/list.json): error trying to connect: tcp connect error: Connection refused (os error 61)"})})]})})}),`
`,e.jsx(s.p,{children:"Connection failed because access to the URL from your location may be restricted. To solve this, you should set proxy."}),`
`,e.jsxs(s.p,{children:["You could run ",e.jsx(s.code,{children:"export http_proxy=http://127.0.0.1:7890 https_proxy=http://127.0.0.1:7890"})," first in the terminal then you will ",e.jsx(s.code,{children:"forge build"})," successfully."]}),`
`,e.jsxs(s.h3,{id:"im-getting-notactivated-evmerror-notactivated-error-in-my-tests",children:["I'm getting ",e.jsx(s.code,{children:"[NotActivated] EvmError: NotActivated"})," error in my tests.",e.jsx(s.a,{"aria-hidden":"true",tabIndex:"-1",href:"#im-getting-notactivated-evmerror-notactivated-error-in-my-tests",children:e.jsx(s.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(s.p,{children:["This error refers to an EVM version mismatch, make sure the ",e.jsx(s.code,{children:"evm_version"})," configuration is inline with the test (forked chain) you're using (similar for errors like ",e.jsx(s.code,{children:"prevrandao not set"}),"). See ",e.jsxs(s.a,{href:"/config/reference/solidity-compiler#evm_version",children:[e.jsx(s.code,{children:"evm_version"})," configuration"]})]})]})}function d(r={}){const{wrapper:s}={...n(),...r.components};return s?e.jsx(s,{...r,children:e.jsx(i,{...r})}):i(r)}export{d as default,a as frontmatter};
